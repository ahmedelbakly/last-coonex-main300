import * as React from "react";
import IconButton from "@mui/material/IconButton";
import Menu from "@mui/material/Menu";
import MenuItem from "@mui/material/MenuItem";
import MoreVertIcon from "@mui/icons-material/MoreVert";
import Link from "next/link";

///////////////////////////////////////////////////////////////////////////////////
// menu icon
const viewIcon = (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="22"
    height="15"
    viewBox="0 0 22 15"
    fill="none"
  >
    <path
      d="M11.0008 11.751C12.1841 11.751 13.1883 11.3385 14.0133 10.5135C14.8383 9.68848 15.2508 8.68431 15.2508 7.50098C15.2508 6.31764 14.8383 5.31348 14.0133 4.48848C13.1883 3.66348 12.1841 3.25098 11.0008 3.25098C9.81745 3.25098 8.81328 3.66348 7.98828 4.48848C7.16328 5.31348 6.75078 6.31764 6.75078 7.50098C6.75078 8.68431 7.16328 9.68848 7.98828 10.5135C8.81328 11.3385 9.81745 11.751 11.0008 11.751ZM11.0008 10.301C10.2174 10.301 9.55495 10.0301 9.01328 9.48848C8.47161 8.94681 8.20078 8.28431 8.20078 7.50098C8.20078 6.71764 8.47161 6.05514 9.01328 5.51348C9.55495 4.97181 10.2174 4.70098 11.0008 4.70098C11.7841 4.70098 12.4466 4.97181 12.9883 5.51348C13.5299 6.05514 13.8008 6.71764 13.8008 7.50098C13.8008 8.28431 13.5299 8.94681 12.9883 9.48848C12.4466 10.0301 11.7841 10.301 11.0008 10.301ZM11.0008 15.001C8.70078 15.001 6.60495 14.376 4.71328 13.126C2.82161 11.876 1.35911 10.226 0.325781 8.17598C0.275781 8.09264 0.238281 7.99264 0.213281 7.87598C0.188281 7.75931 0.175781 7.63431 0.175781 7.50098C0.175781 7.36764 0.188281 7.24264 0.213281 7.12598C0.238281 7.00931 0.275781 6.90931 0.325781 6.82598C1.35911 4.77598 2.82161 3.12598 4.71328 1.87598C6.60495 0.625977 8.70078 0.000976562 11.0008 0.000976562C13.3008 0.000976562 15.3966 0.625977 17.2883 1.87598C19.1799 3.12598 20.6424 4.77598 21.6758 6.82598C21.7258 6.90931 21.7633 7.00931 21.7883 7.12598C21.8133 7.24264 21.8258 7.36764 21.8258 7.50098C21.8258 7.63431 21.8133 7.75931 21.7883 7.87598C21.7633 7.99264 21.7258 8.09264 21.6758 8.17598C20.6424 10.226 19.1799 11.876 17.2883 13.126C15.3966 14.376 13.3008 15.001 11.0008 15.001ZM11.0008 13.501C13.0174 13.501 14.8716 12.9551 16.5633 11.8635C18.2549 10.7718 19.5424 9.31764 20.4258 7.50098C19.5424 5.68431 18.2549 4.23014 16.5633 3.13848C14.8716 2.04681 13.0174 1.50098 11.0008 1.50098C8.98411 1.50098 7.12995 2.04681 5.43828 3.13848C3.74661 4.23014 2.45078 5.68431 1.55078 7.50098C2.45078 9.31764 3.74661 10.7718 5.43828 11.8635C7.12995 12.9551 8.98411 13.501 11.0008 13.501Z"
      fill="#1DB2FF"
    />
  </svg>
);
const editIcon = (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
  >
    <path
      d="M19.6083 18.746C19.6083 19.627 18.8923 20.37 18.0113 20.37H5.23231C4.35131 20.37 3.63531 19.627 3.63531 18.746V5.96703C3.63531 5.08603 4.35131 4.39603 5.23231 4.39603H12.6863V3.33203H5.23231C3.76431 3.33203 2.57031 4.50003 2.57031 5.96803V18.746C2.57031 20.214 3.76431 21.434 5.23231 21.434H18.0103C19.4783 21.434 20.6723 20.213 20.6723 18.746V11.318H19.6073V18.746H19.6083Z"
      fill="#DB6F12"
    />
    <path
      d="M20.8088 3.17016C20.0048 2.36516 18.6018 2.36516 17.7968 3.17016L10.6538 10.3132C10.5858 10.3812 10.5368 10.4672 10.5138 10.5602L9.76183 13.5712C9.71683 13.7522 9.76983 13.9442 9.90183 14.0772C10.0028 14.1782 10.1388 14.2332 10.2778 14.2332C10.3208 14.2332 10.3638 14.2282 10.4068 14.2172L13.4188 13.4642C13.5128 13.4412 13.5978 13.3922 13.6658 13.3242L20.8088 6.18116C21.2108 5.77916 21.4328 5.24416 21.4328 4.67516C21.4328 4.10616 21.2118 3.57216 20.8088 3.17016ZM13.0178 12.4672L11.0098 12.9692L11.5118 10.9612L17.4208 5.05216L18.9268 6.55816L13.0178 12.4672ZM20.0558 5.42816L19.6798 5.80416L18.1738 4.29816L18.5498 3.92216C18.9518 3.52016 19.6538 3.52016 20.0558 3.92216C20.2568 4.12316 20.3678 4.39016 20.3678 4.67516C20.3678 4.96016 20.2568 5.22716 20.0558 5.42816Z"
      fill="#DB6F12"
    />
  </svg>
);
const deleteIcon = (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="20"
    height="21"
    viewBox="0 0 20 21"
    fill="none"
  >
    <g clip-path="url(#clip0_364_56472)">
      <path
        d="M2.21632 10.925C2.21632 8.85682 2.21014 6.7825 2.22249 4.71435C2.22249 4.4674 2.14841 4.42419 1.93233 4.43654C1.54957 4.45506 1.16063 4.44271 0.777871 4.44271C0.3272 4.43654 0 4.12168 0 3.70188C0 3.28208 0.3272 2.96722 0.777871 2.96105C2.43856 2.96105 4.10543 2.95488 5.76612 2.96105C5.92664 2.96105 5.99455 2.92401 6.04393 2.75732C6.47609 1.11515 7.93305 0.00390625 9.61844 0.00390625C11.2915 0.00390625 12.7361 1.12132 13.1744 2.75732C13.2176 2.92401 13.2855 2.96722 13.4461 2.96722C15.1067 2.96105 16.7736 2.96105 18.4343 2.96722C18.9961 2.96722 19.3603 3.47963 19.1628 3.97352C19.0517 4.2575 18.7862 4.43654 18.459 4.44271C18.0515 4.44888 17.6441 4.46123 17.2366 4.43654C17.0206 4.42419 16.9959 4.50445 16.9959 4.68965C17.002 8.78274 17.0144 12.882 16.9959 16.9751C16.9897 18.574 16.2118 19.7161 14.761 20.3952C14.3351 20.599 13.872 20.6916 13.3967 20.6916C10.8717 20.6977 8.34668 20.7039 5.82169 20.6916C3.87083 20.6792 2.24718 19.0371 2.22249 17.0862C2.22249 17.0615 2.22249 17.043 2.22249 17.0183C2.21632 14.9934 2.21632 12.9561 2.21632 10.925Z"
        fill="#CF2222"
      />
      <path
        d="M3.68977 10.8808C3.68977 8.81261 3.68977 6.73829 3.68359 4.67014C3.68359 4.47876 3.72681 4.43555 3.91819 4.43555C7.70877 4.44172 11.4932 4.44172 15.2838 4.43555C15.4751 4.43555 15.5183 4.47876 15.5183 4.67014C15.5122 8.74471 15.5122 12.8131 15.5122 16.8877C15.5122 18.2767 14.5676 19.2213 13.1786 19.2213C10.7894 19.2213 8.40638 19.2213 6.01721 19.2213C4.63433 19.2213 3.68359 18.2705 3.68359 16.8877C3.68977 14.8874 3.68977 12.8872 3.68977 10.8808Z"
        fill="white"
      />
      <path
        d="M7.54297 2.94947C7.83313 2.07899 8.67891 1.48633 9.61112 1.48633C10.5372 1.48633 11.3829 2.07899 11.6793 2.94947C10.2964 2.94947 8.92585 2.94947 7.54297 2.94947Z"
        fill="white"
      />
      <path
        d="M8.13174 11.8324C8.13174 12.814 8.13791 13.8017 8.13174 14.7833C8.13174 15.1723 7.84775 15.4809 7.47734 15.5242C7.11309 15.5612 6.77355 15.3266 6.68094 14.9624C6.66242 14.8945 6.65625 14.8265 6.65625 14.7586C6.65625 12.8078 6.65625 10.8508 6.65625 8.89991C6.65625 8.49245 6.93406 8.1776 7.31682 8.14056C7.68106 8.10351 8.02061 8.33811 8.11321 8.69618C8.13791 8.78261 8.13791 8.88138 8.13791 8.96781C8.13174 9.92472 8.13174 10.8816 8.13174 11.8324Z"
        fill="#CF2222"
      />
      <path
        d="M11.0882 11.8336C11.0882 10.852 11.0882 9.86426 11.0882 8.88266C11.0882 8.49373 11.3722 8.18505 11.7426 8.14183C12.1068 8.09862 12.4464 8.33321 12.539 8.69745C12.5575 8.75302 12.5637 8.82093 12.5637 8.87649C12.5637 10.8459 12.5637 12.8152 12.5637 14.7846C12.5637 15.118 12.3661 15.3834 12.0636 15.4884C11.7735 15.5872 11.4771 15.5069 11.2672 15.2723C11.1252 15.1118 11.082 14.9266 11.082 14.7167C11.0882 13.7598 11.0882 12.7967 11.0882 11.8336Z"
        fill="#CF2222"
      />
    </g>
    <defs>
      <clipPath id="clip0_364_56472">
        <rect
          width="19.2184"
          height="20.7"
          fill="white"
          transform="translate(0 0.00390625)"
        />
      </clipPath>
    </defs>
  </svg>
);
const ITEM_HEIGHT = 48;
const menuItemStyle = {
  display: "flex",
  alignItems: "center",
  justifyContent: "flex-start",
  gap: "10px",
  padding: "0px",
};
export default function DotsMenu({
  handleShowDeleteConfirm,
  handleDeleteProperty,
  handleProductId,
  id,
}) {
  const [anchorEl, setAnchorEl] = React.useState(null);
  const open = Boolean(anchorEl);
  const handleClick = (event) => {
    setAnchorEl(event.currentTarget);
  };
  const handleClose = () => {
    setAnchorEl(null);
  };

  return (
    <div>
      <IconButton
        aria-label="more"
        id="long-button"
        aria-controls={open ? "long-menu" : undefined}
        aria-expanded={open ? "true" : undefined}
        aria-haspopup="true"
        onClick={(e) => {
          handleProductId(id);
          handleClick(e);
        }}
      >
        <MoreVertIcon />
      </IconButton>
      <Menu
        id="long-menu"
        MenuListProps={{
          "aria-labelledby": "long-button",
        }}
        anchorEl={anchorEl}
        open={open}
        onClose={handleClose}
        PaperProps={{
          style: {
            maxHeight: ITEM_HEIGHT * 4.5,
            width: "90px",
            padding: "0px !important",
          },
        }}
      >
        <Link href={"/onlineStore/properties/656dfd6f45d6"}>
          <MenuItem
            onClick={() => {
              handleClose();
            }}
            style={menuItemStyle}
          >
            <span>{viewIcon}</span>
            <span>view</span>
          </MenuItem>
        </Link>
        <MenuItem onClick={handleClose} style={menuItemStyle}>
          <span>{editIcon}</span>
          <span>edit</span>
        </MenuItem>
        <MenuItem
          onClick={() => {
            handleShowDeleteConfirm();
            handleClose();
          }}
          style={menuItemStyle}
        >
          <span>{deleteIcon}</span>
          <span>delete</span>
        </MenuItem>
      </Menu>
    </div>
  );
}
